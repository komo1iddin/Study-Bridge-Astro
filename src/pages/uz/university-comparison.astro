---
import Layout from '../../layouts/Layout.astro';
import ReactUniversityPage from '../../components/features/university/UniversityPage_REACT_BACKUP/UniversityPage.astro';
import SvelteUniversityPage from '../../components/features/university/UniversityPage/UniversityPage.astro';
import { getLangFromUrl } from '@/i18n/langUtils';

const currentLocale = getLangFromUrl(Astro.url);
const meta = {
  title: "University Page Comparison",
  description: "Compare React vs Svelte implementations of the University Page component"
};

// Get the current selected view from URL query parameters 
const view = Astro.url.searchParams.get('view') || 'split';
---

<Layout meta={meta}>
  <div class="container mx-auto py-4 px-4">
    <h1 class="text-3xl font-bold text-center mb-8">University Page Implementation Comparison</h1>
    
    <div class="flex justify-center gap-4 mb-8">
      <a 
        href={`/${currentLocale}/university-comparison?view=split`}
        class={`px-4 py-2 rounded-md ${view === 'split' ? 'bg-primary text-white' : 'bg-gray-200'}`}
      >
        Split View
      </a>
      <a 
        href={`/${currentLocale}/university-comparison?view=react`}
        class={`px-4 py-2 rounded-md ${view === 'react' ? 'bg-primary text-white' : 'bg-gray-200'}`}
      >
        React Only
      </a>
      <a 
        href={`/${currentLocale}/university-comparison?view=svelte`}
        class={`px-4 py-2 rounded-md ${view === 'svelte' ? 'bg-primary text-white' : 'bg-gray-200'}`}
      >
        Svelte Only
      </a>
    </div>
    
    {view === 'split' && (
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="border p-2 rounded">
          <div class="bg-blue-100 px-4 py-2 mb-4 rounded font-bold">React Implementation</div>
          <div class="transform scale-[0.80] origin-top">
            <ReactUniversityPage />
          </div>
        </div>
        <div class="border p-2 rounded">
          <div class="bg-orange-100 px-4 py-2 mb-4 rounded font-bold">Svelte Implementation</div>
          <div class="transform scale-[0.80] origin-top">
            <SvelteUniversityPage />
          </div>
        </div>
      </div>
    )}
    
    {view === 'react' && (
      <div>
        <div class="bg-blue-100 px-4 py-2 mb-4 rounded font-bold">React Implementation</div>
        <ReactUniversityPage />
      </div>
    )}
    
    {view === 'svelte' && (
      <div>
        <div class="bg-orange-100 px-4 py-2 mb-4 rounded font-bold">Svelte Implementation</div>
        <SvelteUniversityPage />
      </div>
    )}
  </div>
</Layout> 