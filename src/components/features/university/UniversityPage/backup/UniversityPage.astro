---
import UniversityPageMain from './UniversityPage.tsx';
import { getLangFromUrl } from '@/i18n/langUtils';
import { ThemeProvider } from './styles/ThemeProvider';
import { getAllUniversities, getAllCities } from '@/lib/fileSystemReader';

const lang = getLangFromUrl(Astro.url);
const universities = await getAllUniversities(lang);
const cities = await getAllCities(lang);
---

<ThemeProvider client:load>
  <UniversityPageMain universities={universities} cities={cities} lang={lang} client:load />
</ThemeProvider>